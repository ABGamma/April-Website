<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.parallax {
    /* The image used */
    background-image: url("April_Andrew_gatlinburg.jpg");

    /* Set a specific height */
    min-height: 800px; 

    /* Create the parallax scrolling effect */
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
}
.parallax2 {
    /* The image used */
    background-image: url("April_Andrew_gatlinburg_2.jpg");

    /* Set a specific height */
    min-height: 800px; 

    /* Create the parallax scrolling effect */
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
}
</style>
</head>
<body style="margin: 0;">

<div class="parallax"></div>

<div style="height:300px; font-size:36px">
Hello My name is Andrew Gamma
</div>
<div class="parallax2"></div>

<div style="height:300px;background-color:rgb(0, 255, 234);font-size:36px">
<canvas id="mycanvas"></canvas> 
</div>


</body>
    <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
  <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(400, 400); 
      frameRate(60);
        
      // Paste code from Khan Academy here:
      var racketObj = function(x, y) {
            this.x = x;
            this.y = y;
        };
        var ballObj = function(x, y, sx,sy) {
            this.x = x;
            this.y = y;
            this.sx = sx;
            this.sy = sy;
        };
        var initMilli;
        var nextMilli;
        var numbers;
        var reset = 0;
        var p1Score = 0;
        var p2Score = 0;
        var gameArea = function(){};
        gameArea.prototype.display = function(){
            var i;
            for(i = 0; i < 400; i += 10){
                line(200, i, 200, i+5);
            }
            textSize(50);
            text(p1Score, 140, 60);
            text(p2Score, 235, 60);
        };
        racketObj.prototype.display = function() {
            fill(255, 255, 255);
            rect(this.x, this.y, 10,50); 
        };
        ballObj.prototype.display = function() {
            fill(255,255,255);
            ellipse(this.x,this.y,10,10);
        };

        var Player1 = new racketObj(5,175);
        var Player2 = new racketObj(385,175);
        var myBackground = new gameArea();
        var myBall = new ballObj(200,200,random(2,3), random(1,4));
        var X = [];
        var curSpeed = 0;
        var Ydir = random(-1,1);
        var Xdir = random(-1,1);
        var hardReset = 0;


        background(0, 0, 0);
        Player1.display();
        Player2.display();
        myBall.display();
        stroke(255, 255, 255);
        myBackground.display();
        stroke(0, 0, 0);
        fill(255, 255, 255);

        draw = function() {
            if(hardReset){
                p1Score = 0;
                p2Score = 0;
                Player1 = new racketObj(5,175);
                Player2 = new racketObj(385,175);
                myBall = new ballObj(200,200,random(2,3), random(1,4));
                background(0, 0, 0);
                Player1.display();
                Player2.display();
                stroke(255, 255, 255);
                myBackground.display();
                stroke(0, 0, 0);
                Ydir = random(-1,1);
                Xdir = random(-1,1);
                hardReset = 0;
                reset = 1;
                initMilli = millis();
                nextMilli = initMilli + 4000;
            }
            if(reset){
                if(X.r){
                    hardReset = 1;   
                }
                background(0, 0, 0);
                Player1.display();
                Player2.display();
                stroke(255, 255, 255);
                myBackground.display();
                stroke(0, 0, 0);
                textSize(32);
                initMilli = millis();
                if(nextMilli - initMilli > 3000){
                    text("4", 190, 210);
                }
                else if(nextMilli - initMilli > 2000){
                    text("3", 190, 210);
                }
                else if(nextMilli - initMilli > 1000){
                    text("2", 190, 210);
                }
                else if(nextMilli - initMilli > 0){
                    text("1", 190, 210);
                }
                if(initMilli > nextMilli){
                    myBall = new ballObj(200,200,random(2,3), random(1,4));
                    Ydir = random(-1,1);
                    Xdir = random(-1,1);
                    reset = 0;    
                }
            }
            else{
                    fill(255, 0, 0);
                    rect(200,200,100,100);
                    
                    if(X.w){
                        if(Player1.y > -1){
                            Player1.y -= 5;
                        }
                        Player1.display();
                    }
                    if(X.s){
                        if(Player1.y < 350){
                            Player1.y += 5;
                        }
                        Player1.display();
                    }
                    if(X[UP]){
                        if(Player2.y > -1){
                            Player2.y -= 5;
                        }
                        Player2.display();
                    }
                    if(X[DOWN]){
                        if(Player2.y < 350){
                            Player2.y += 5;
                        }
                        Player2.display();
                    }
                    if(X.r){
                        hardReset = 1;   
                    }
                background(0, 0, 0);
                Player1.display();
                Player2.display();
                myBall.display();
                stroke(255, 255, 255);
                myBackground.display();
                stroke(0, 0, 0);
                if(Xdir > 0){
                    myBall.x += myBall.sx;
                    if((myBall.x >= 380 && myBall.x <= 390) && (myBall.y > Player2.y && myBall.y < Player2.y + 50)){
                        Xdir = -1;
                        curSpeed ++;
                        if(curSpeed%4 === 0){
                            myBall.sx += random(0,2);
                            myBall.sy += random(0,2);
                        }
                    }
                    else if(myBall.x >= 420){
                        reset = 1;
                        p1Score++;
                        initMilli = millis();
                        nextMilli = initMilli + 4000;
                    }
                }
                else{
                    myBall.x -= myBall.sx; 
                    if((myBall.x <= 20 && myBall.x >= 10) && (myBall.y > Player1.y && myBall.y < Player1.y + 50)){
                        Xdir = 1;
                        curSpeed ++;
                        if(curSpeed%4 === 0){
                            myBall.sx += random(0,2);
                            myBall.sy += random(0,2);
                        }
                    }
                    else if(myBall.x <= -10){
                        reset = 1;
                        p2Score++;
                        initMilli = millis();
                        nextMilli = initMilli + 4000;
                    }
                }
                if(Ydir > 0){
                    myBall.y += myBall.sy;
                    if(myBall.y > 395){
                        Ydir = -1;
                    }
                }
                else{
                    myBall.y -= myBall.sy; 
                    if(myBall.y <= 5){
                        Ydir = 1;    
                    }
                }
                myBall.display();
            }
        };

        var keyPressed = function(){
            X[keyCode] = 1;
            X[key] = 1;
        };
        var keyReleased = function(){
            X[keyCode] = 0;
            X[key] = 0;
        };
    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("mycanvas"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
</html>
